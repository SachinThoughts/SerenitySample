SearchExternal_429995_SQL11=select distinct r.encounterid as 'Visit #',i.invoicenumber as 'Invoice #',CONCAT(p.lastname,', ',p.firstname) as Name,p.facilitypatientid as 'MRN',p.sex AS 'Gender',r.PatientType AS 'PT',CONCAT(FORMAT(r.admitdate,'MM/dd/yyyy'),' - ',FORMAT(r.dischargedate,'MM/dd/yyyy')) as 'Service Date',mlps.CurrentPayorPlanCode as PPC,dt.DefectTypeDesc as 'Defect Type',ds.DefectSubCategorydesc as 'Defect Sub-Category' from invoices i inner join registrations r on i.encounterid = r.encounterid inner join persons p on r.personid= p.id inner join coverages c on r.id=c.registrationid inner join MultiLevelPaymentSummary mlps on r.id=mlps.recordkey left join payer.DefectAccount da on r.ID=da.RegistrationID left join accretive_defectsubcategory ds on da.DefectSubCategoryID = ds.DefectSubCategoryID left join accretive_defecttype dt on ds.defecttypeid=dt.defecttypeid where p.lastname like '%s' and p.firstname like '%s'
SearchInternal_391031_SQL1=Select top 1 Invoicenumber,i.ID from invoices i inner join registrations r on i.encounterid = r.encounterid where registrationid is not null order by id desc 
SearchExternal_433633_SQL15=select l.Code from accretive_UserLocations ul inner join Accretive_Locations l on ul.LocationID=l.ID where userid in (Select userid from DNN..users where username = '%s')
SearchExternal_430694_SQL6=select top 1 p.FacilityPatientID, * from persons p inner join Registrations r on p.id=r.personid inner join invoices i on r.id = i.registrationid where i.registrationid >0 order by r.id desc
SearchExternal_430694_SQL12=select distinct i.invoicenumber,r.encounterid,p.lastname,p.firstname,p.facilitypatientid,p.sex,r.PatientType,r.admitdate,r.dischargedate,mlps.CurrentPayorPlanCode as PPC, ds.DefectSubCategorydesc as 'Defect Sub-Category',dt.DefectTypeDesc as 'Defect Type' from invoices i inner join registrations r on i.encounterid = r.encounterid inner join persons p on r.personid= p.id inner join coverages c on r.id=c.registrationid inner join MultiLevelPaymentSummary mlps on r.id=mlps.recordkey left join payer.DefectAccount da on r.ID=da.RegistrationID left join accretive_defectsubcategory ds on da.DefectSubCategoryID = ds.DefectSubCategoryID left join accretive_defecttype dt on ds.defecttypeid=dt.defecttypeid where p.facilitypatientid like '%s' order by r.admitdate asc